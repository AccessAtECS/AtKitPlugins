(function(){var d=function(){$lib=AtKit.lib();var b="http://c.atbar.org/ATBar/",a;/https:/.test(window.location.protocol)&&(b="https://ssl.atbar.org/c/ATBar/");AtKit.addLocalisationMap("GB",{spell_title:"Start Spellchecker"});AtKit.addLocalisationMap("ar",{spell_title:"&#1575;&#1604;&#1578;&#1583;&#1602;&#1612;&#1602; &#1575;&#1575;&#1604;&#1605;&#1575;&#1604;&#1620;&#1610;&#1611;"});a=!1;AtKit.addButton("spell",AtKit.localisation("spell_title"),AtKit.getPluginURL()+"images/spell-off.png",function(){if(!a){a=
!0;var c="spell.js";AtKit.getLanguage()=="ar"&&(c="spell-ar.js");AtKit.addScript(b+c,function(){if(typeof AtKit.__env.window.tinyMCE!="undefined")tinyMCE=AtKit.__env.window.tinyMCE,tinyMCE.activeEditor.onKeyPress.add(function(){var a=tinyMCE.activeEditor.getContent();rteSpellTimer&&window.clearTimeout(rteSpellTimer);rteSpellTimer=window.setTimeout(function(){$lib("#"+tinyMCE.activeEditor.editorContainer).rteSpellCheck(a,tinyMCE.activeEditor,{useXHRMethod:AtKit.__env.transport,lang:AtKit.getLanguage(),
RTEType:"tMCE"})},750)});if(typeof AtKit.__env.window.CKEDITOR!="undefined"){CKE=AtKit.__env.window.CKEDITOR;for(var a in CKE.instances)CKE.instances[a].document.bind("keypress",function(){rteSpellTimer&&window.clearTimeout(rteSpellTimer);var b=CKE.instances[a].getData();rteSpellTimer=window.setTimeout(function(){$lib("#"+CKE.instances[a].element.getId()).rteSpellCheck(b,CKE.instances[a],{useXHRMethod:AtKit.__env.transport,lang:AtKit.getLanguage(),RTEType:"CKE"})},750)})}$lib("textarea").spellcheck({useXHRMethod:AtKit.__env.transport,
lang:AtKit.getLanguage(),baseURL:b});$lib("input[type=text]").spellcheck({useXHRMethod:AtKit.__env.transport,lang:AtKit.getLanguage(),baseURL:b});$lib("#at-lnk-spell").find("img").attr("src",b+"images/spell.png")})}},null,null)};typeof window.AtKit=="undefined"?(window.AtKitLoaded=function(){var b=null;this.subscribe=function(a){b=a};this.fire=function(a,c){b!==null&&b(a,c)}},window.AtKitLoaded=new AtKitLoaded,window.AtKitLoaded.subscribe(function(){AtKit.registerPlugin("spell",d)})):AtKit.registerPlugin("spell",
d)})();
